(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var I,p,pe,C,re,me,Y,ge,E={},ve=[],Oe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,W=Array.isArray;function T(e,t){for(var n in t)e[n]=t[n];return e}function be(e){var t=e.parentNode;t&&t.removeChild(e)}function Ue(e,t,n){var r,o,i,d={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:d[i]=t[i];if(arguments.length>2&&(d.children=arguments.length>3?I.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)d[i]===void 0&&(d[i]=e.defaultProps[i]);return L(e,d,r,o,null)}function L(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++pe,__i:-1,__u:0};return o==null&&p.vnode!=null&&p.vnode(i),i}function N(e){return e.children}function O(e,t){this.props=e,this.context=t}function $(e,t){if(t==null)return e.__?$(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?$(e):null}function ye(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ye(e)}}function J(e){(!e.__d&&(e.__d=!0)&&C.push(e)&&!j.__r++||re!==p.debounceRendering)&&((re=p.debounceRendering)||me)(j)}function j(){var e,t,n,r,o,i,d,_,a;for(C.sort(Y);e=C.shift();)e.__d&&(t=C.length,r=void 0,i=(o=(n=e).__v).__e,_=[],a=[],(d=n.__P)&&((r=T({},o)).__v=o.__v+1,p.vnode&&p.vnode(r),X(d,r,o,n.__n,d.ownerSVGElement!==void 0,32&o.__u?[i]:null,_,i??$(o),!!(32&o.__u),a),r.__.__k[r.__i]=r,Ne(_,r,a),r.__e!=i&&ye(r)),C.length>t&&C.sort(Y));j.__r=0}function xe(e,t,n,r,o,i,d,_,a,c,u){var l,h,f,m,v,y=r&&r.__k||ve,g=t.length;for(n.__d=a,Re(n,t,y),a=n.__d,l=0;l<g;l++)(f=n.__k[l])!=null&&typeof f!="boolean"&&typeof f!="function"&&(h=f.__i===-1?E:y[f.__i]||E,f.__i=l,X(e,f,h,o,i,d,_,a,c,u),m=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&Z(h.ref,null,f),u.push(f.ref,f.__c||m,f)),v==null&&m!=null&&(v=m),65536&f.__u||h.__k===f.__k?a=we(f,a,e):typeof f.type=="function"&&f.__d!==void 0?a=f.__d:m&&(a=m.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=a,n.__e=v}function Re(e,t,n){var r,o,i,d,_,a=t.length,c=n.length,u=c,l=0;for(e.__k=[],r=0;r<a;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?L(null,o,null,null,o):W(o)?L(N,{children:o},null,null,null):o.__b>0?L(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,_=Fe(o,n,d=r+l,u),o.__i=_,i=null,_!==-1&&(u--,(i=n[_])&&(i.__u|=131072)),i==null||i.__v===null?(_==-1&&l--,typeof o.type!="function"&&(o.__u|=65536)):_!==d&&(_===d+1?l++:_>d?u>a-d?l+=_-d:l--:l=_<d&&_==d-1?_-d:0,_!==r+l&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=$(i)),K(i,i,!1),n[r]=null,u--);if(u)for(r=0;r<c;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=$(i)),K(i,i))}function we(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=we(r[o],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function je(e,t){return t=t||[],e==null||typeof e=="boolean"||(W(e)?e.some(function(n){je(n,t)}):t.push(e)),t}function Fe(e,t,n,r){var o=e.key,i=e.type,d=n-1,_=n+1,a=t[n];if(a===null||a&&o==a.key&&i===a.type)return n;if(r>(a!=null&&!(131072&a.__u)?1:0))for(;d>=0||_<t.length;){if(d>=0){if((a=t[d])&&!(131072&a.__u)&&o==a.key&&i===a.type)return d;d--}if(_<t.length){if((a=t[_])&&!(131072&a.__u)&&o==a.key&&i===a.type)return _;_++}}return-1}function oe(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Oe.test(t)?n:n+"px"}function A(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||oe(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||oe(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?ie:le,i)):e.removeEventListener(t,i?ie:le,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function le(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(p.event?p.event(e):e)}function ie(e){return this.l[e.type+!0](p.event?p.event(e):e)}function X(e,t,n,r,o,i,d,_,a,c){var u,l,h,f,m,v,y,g,x,k,D,P,ne,H,B,w=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(a=!!(32&n.__u),i=[_=t.__e=n.__e]),(u=p.__b)&&u(t);e:if(typeof w=="function")try{if(g=t.props,x=(u=w.contextType)&&r[u.__c],k=u?x?x.props.value:u.__:r,n.__c?y=(l=t.__c=n.__c).__=l.__E:("prototype"in w&&w.prototype.render?t.__c=l=new w(g,k):(t.__c=l=new O(g,k),l.constructor=w,l.render=We),x&&x.sub(l),l.props=g,l.state||(l.state={}),l.context=k,l.__n=r,h=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),w.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=T({},l.__s)),T(l.__s,w.getDerivedStateFromProps(g,l.__s))),f=l.props,m=l.state,l.__v=t,h)w.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(w.getDerivedStateFromProps==null&&g!==f&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(g,k),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(g,l.__s,k)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=g,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(M){M&&(M.__=t)}),D=0;D<l._sb.length;D++)l.__h.push(l._sb[D]);l._sb=[],l.__h.length&&d.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(g,l.__s,k),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(f,m,v)})}if(l.context=k,l.props=g,l.__P=e,l.__e=!1,P=p.__r,ne=0,"prototype"in w&&w.prototype.render){for(l.state=l.__s,l.__d=!1,P&&P(t),u=l.render(l.props,l.state,l.context),H=0;H<l._sb.length;H++)l.__h.push(l._sb[H]);l._sb=[]}else do l.__d=!1,P&&P(t),u=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++ne<25);l.state=l.__s,l.getChildContext!=null&&(r=T(T({},r),l.getChildContext())),h||l.getSnapshotBeforeUpdate==null||(v=l.getSnapshotBeforeUpdate(f,m)),xe(e,W(B=u!=null&&u.type===N&&u.key==null?u.props.children:u)?B:[B],t,n,r,o,i,d,_,a,c),l.base=t.__e,t.__u&=-161,l.__h.length&&d.push(l),y&&(l.__E=l.__=null)}catch(M){t.__v=null,a||i!=null?(t.__e=_,t.__u|=a?160:32,i[i.indexOf(_)]=null):(t.__e=n.__e,t.__k=n.__k),p.__e(M,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Ie(n.__e,t,n,r,o,i,d,a,c);(u=p.diffed)&&u(t)}function Ne(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)Z(n[r],n[++r],n[++r]);p.__c&&p.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){p.__e(i,o.__v)}})}function Ie(e,t,n,r,o,i,d,_,a){var c,u,l,h,f,m,v,y=n.props,g=t.props,x=t.type;if(x==="svg"&&(o=!0),i!=null){for(c=0;c<i.length;c++)if((f=i[c])&&"setAttribute"in f==!!x&&(x?f.localName===x:f.nodeType===3)){e=f,i[c]=null;break}}if(e==null){if(x===null)return document.createTextNode(g);e=o?document.createElementNS("http://www.w3.org/2000/svg",x):document.createElement(x,g.is&&g),i=null,_=!1}if(x===null)y===g||_&&e.data===g||(e.data=g);else{if(i=i&&I.call(e.childNodes),y=n.props||E,!_&&i!=null)for(y={},c=0;c<e.attributes.length;c++)y[(f=e.attributes[c]).name]=f.value;for(c in y)f=y[c],c=="children"||(c=="dangerouslySetInnerHTML"?l=f:c==="key"||c in g||A(e,c,null,f,o));for(c in g)f=g[c],c=="children"?h=f:c=="dangerouslySetInnerHTML"?u=f:c=="value"?m=f:c=="checked"?v=f:c==="key"||_&&typeof f!="function"||y[c]===f||A(e,c,f,y[c],o);if(u)_||l&&(u.__html===l.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(l&&(e.innerHTML=""),xe(e,W(h)?h:[h],t,n,r,o&&x!=="foreignObject",i,d,i?i[0]:n.__k&&$(n,0),_,a),i!=null)for(c=i.length;c--;)i[c]!=null&&be(i[c]);_||(c="value",m!==void 0&&(m!==e[c]||x==="progress"&&!m||x==="option"&&m!==y[c])&&A(e,c,m,y[c],!1),c="checked",v!==void 0&&v!==e[c]&&A(e,c,v,y[c],!1))}return e}function Z(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){p.__e(r,n)}}function K(e,t,n){var r,o;if(p.unmount&&p.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Z(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){p.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&K(r[o],t,n||typeof e.type!="function");n||e.__e==null||be(e.__e),e.__=e.__e=e.__d=void 0}function We(e,t,n){return this.constructor(e,n)}function ze(e,t,n){var r,o,i,d;p.__&&p.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],d=[],X(t,e=(!r&&n||t).__k=Ue(N,null,[e]),o||E,E,t.ownerSVGElement!==void 0,!r&&n?[n]:o?null:t.firstChild?I.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,d),Ne(i,e,d)}function ke(e,t){var n={__c:t="__cC"+ge++,__:e,Consumer:function(r,o){return r.children(o)},Provider:function(r){var o,i;return this.getChildContext||(o=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(d){this.props.value!==d.value&&o.some(function(_){_.__e=!0,J(_)})},this.sub=function(d){o.push(d);var _=d.componentWillUnmount;d.componentWillUnmount=function(){o.splice(o.indexOf(d),1),_&&_.call(d)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}I=ve.slice,p={__e:function(e,t,n,r){for(var o,i,d;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),d=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),d=o.__d),d)return o.__E=o}catch(_){e=_}throw e}},pe=0,O.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=T({},this.state),typeof e=="function"&&(e=e(T({},n),this.props)),e&&T(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),J(this))},O.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),J(this))},O.prototype.render=N,C=[],me=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Y=function(e,t){return e.__v.__b-t.__v.__b},j.__r=0,ge=0;var S,b,V,se,F=0,Te=[],U=[],_e=p.__b,ae=p.__r,ce=p.diffed,de=p.__c,ue=p.unmount;function z(e,t){p.__h&&p.__h(b,e,F||t),F=0;var n=b.__H||(b.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:U}),n.__[e]}function ee(e){return F=1,qe(Se,e)}function qe(e,t,n){var r=z(S++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Se(void 0,t),function(_){var a=r.__N?r.__N[0]:r.__[0],c=r.t(a,_);a!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=b,!b.u)){var o=function(_,a,c){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(h){return h.__c});if(u.every(function(h){return!h.__N}))return!i||i.call(this,_,a,c);var l=!1;return u.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(l=!0)}}),!(!l&&r.__c.props===_)&&(!i||i.call(this,_,a,c))};b.u=!0;var i=b.shouldComponentUpdate,d=b.componentWillUpdate;b.componentWillUpdate=function(_,a,c){if(this.__e){var u=i;i=void 0,o(_,a,c),i=u}d&&d.call(this,_,a,c)},b.shouldComponentUpdate=o}return r.__N||r.__}function q(e,t){var n=z(S++,3);!p.__s&&$e(n.__H,t)&&(n.__=e,n.i=t,b.__H.__h.push(n))}function Be(e){return F=5,Ve(function(){return{current:e}},[])}function Ve(e,t){var n=z(S++,7);return $e(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Ce(e){var t=b.context[e.__c],n=z(S++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(b)),t.props.value):e.__}function Ge(){for(var e;e=Te.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(R),e.__H.__h.forEach(Q),e.__H.__h=[]}catch(t){e.__H.__h=[],p.__e(t,e.__v)}}p.__b=function(e){b=null,_e&&_e(e)},p.__r=function(e){ae&&ae(e),S=0;var t=(b=e.__c).__H;t&&(V===b?(t.__h=[],b.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=U,n.__N=n.i=void 0})):(t.__h.forEach(R),t.__h.forEach(Q),t.__h=[],S=0)),V=b},p.diffed=function(e){ce&&ce(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Te.push(t)!==1&&se===p.requestAnimationFrame||((se=p.requestAnimationFrame)||Ye)(Ge)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==U&&(n.__=n.__V),n.i=void 0,n.__V=U})),V=b=null},p.__c=function(e,t){t.some(function(n){try{n.__h.forEach(R),n.__h=n.__h.filter(function(r){return!r.__||Q(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],p.__e(r,n.__v)}}),de&&de(e,t)},p.unmount=function(e){ue&&ue(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{R(r)}catch(o){t=o}}),n.__H=void 0,t&&p.__e(t,n.__v))};var fe=typeof requestAnimationFrame=="function";function Ye(e){var t,n=function(){clearTimeout(r),fe&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);fe&&(t=requestAnimationFrame(n))}function R(e){var t=b,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),b=t}function Q(e){var t=b;e.__c=e.__(),b=t}function $e(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Se(e,t){return typeof t=="function"?t(e):t}function Pe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ee={exports:{}};(function(e){(function(t,n){var r="…",o=/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)|((mailto:)?[_.\w-]{1,300}@(.{1,300}\.)[a-zA-Z]{2,3})/g;function i(_,a,c){return c.length===_.length||!a.ellipsis||(c+=a.ellipsis),c}function d(_,a,c){var u="",l=!0,h=a,f,m;if(c=c||{},c.ellipsis=typeof c.ellipsis>"u"?r:c.ellipsis,!_||_.length===0)return"";for(l=!0;l;){if(o.lastIndex=u.length,l=o.exec(_),!l||l.index-u.length>=h||o.lastIndex>=a+3e3)return u+=_.substring(u.length,a),i(_,c,u);if(f=l[0],m=l.index,u+=_.substring(u.length,m+f.length),h-=m+f.length,h<=0)break}return i(_,c,u)}e.exports?e.exports=d:t.truncate=d})(String)})(Ee);var Je=Ee.exports;const Ke=Pe(Je);var Qe=0;function s(e,t,n,r,o,i){var d,_,a={};for(_ in t)_=="ref"?d=t[_]:a[_]=t[_];var c={type:e,props:a,key:n,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Qe,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(d=e.defaultProps))for(_ in d)a[_]===void 0&&(a[_]=d[_]);return p.vnode&&p.vnode(c),c}const Xe=({username:e,avatar:t,description:n,imageUrl:r,color:o})=>s("div",{className:"rounded-2xl w-full p-4 text-white mb-4",style:{border:`8px solid ${o}`},children:[s("div",{className:"flex flex-row items-center gap-x-2",children:[s("img",{className:"w-10 rounded-full",src:t}),s("h1",{className:"font-bold",children:e})]}),s("p",{className:"mt-4",children:n}),r!==null?s("img",{src:r,className:"mt-2 max-h-50 rounded"}):s(N,{})]});function he({n:e}){let t=["🌝","🌚","🌛"],n=[];for(let r=0;r<e;r++)n.push(s("span",{className:"text-4xl mx-4",children:[" ",t[r%t.length]," "]}));return s("div",{className:"relative flex overflow-x-hidden",children:[s("div",{className:"py-4 animate-marquee whitespace-nowrap",children:n}),s("div",{className:"absolute top-0 py-4 animate-marquee2 whitespace-nowrap",children:n})]})}const Ze="/assets/ph-logo-cropped-6a0a6b46.png";var G=Math.round,et=function(e,r,o){var r=r/100,o=o/100,i=o*r,d=e/60,_=i*(1-Math.abs(d%2-1)),a=o-i,c=parseInt(d,10),u=c===0?[i,_,0]:c===1?[_,i,0]:c===2?[0,i,_]:c===3?[0,_,i]:c===4?[_,0,i]:c===5?[i,0,_]:[];return[G(255*(u[0]+a)),G(255*(u[1]+a)),G(255*(u[2]+a))]};const tt=Pe(et),De=ke({normalTime:"",lightningTimeParts:[],lightningTimeColors:[]});function nt({children:e}){const n=1318.359375;let[r,o]=ee({normalTime:"",lightningTimeParts:new Array(4),lightningTimeColors:new Array(4)});return q(()=>{let i,d=new Date().getTimezoneOffset();const _=()=>{let a=(Date.now()-d*60*1e3)%864e5,c=Math.floor(a/n),u=new Array(4),l=new Array(3);for(let v=3;v>=0;v--)u[v]=c%16,v<3&&(l[v]=16*u[v]+u[v+1]),c=(c-u[v])/16;let h=Math.floor(a/(3600*1e3)),f=Math.floor(a%(1e3*3600)/(60*1e3)).toString();for(;f.length<2;)f=`0${f}`;let m=(v,y,g)=>`rgb(${v}, ${y}, ${g})`;o({lightningTimeParts:u.map(v=>v.toString(16)),lightningTimeColors:[m(l[0],161,0),m(l[1],50,214),m(246,133,l[2]),m.apply(null,tt(u[3]*60/16,100,100))],normalTime:`${h%12==0?12:h%12}:${f} ${h>=12?"pm":"am"}`}),i=setTimeout(_,n-a%n)};return _(),()=>clearTimeout(i)},[]),s(De.Provider,{value:r,children:e})}function He(){return Ce(De)}function rt(){let e=He();return s("div",{className:"flex flex-row items-center justify-evenly w-full grid-cols-4 drop-shadow-xl",children:[s("div",{className:"flex flex-col items-center justify-center my-4",children:[s(he,{n:6}),s("h1",{className:"text-4xl font-bold",children:[s("img",{alt:"purdue hackers logo",src:Ze,placeholder:"blur",className:"inline-block h-[3.5rem] w-auto"}),"HACK NIGHT"]}),s("div",{className:"flex flex-row gap-x-2",children:[s("h1",{className:"text-3xl font-bold text-gray-300",children:"3.11"}),s("div",{className:"flex flex-row items-center gap-1",children:s("div",{className:"px-1 text-black rounded bg-gradient-to-r from-green-400 to-red-400",children:s("p",{className:"text-sm font-bold",children:"now with more holiday spirit!"})})})]}),s(he,{n:6})]}),s("div",{className:"flex flex-col col-span-2 items-center font-mono",children:[s("h1",{className:"text-[7vw] font-bold underline underline-offset-[12px] text-amber-300 decoration-white decoration-dotted decoration-8 flex space-x-4",children:[s("span",{id:"bolt",style:{color:e.lightningTimeColors[0]},children:e.lightningTimeParts[0]}),s("span",{children:"~"})," ",s("span",{id:"zap",style:{color:e.lightningTimeColors[1]},children:e.lightningTimeParts[1]}),s("span",{children:"~"})," ",s("span",{id:"spark",style:{color:e.lightningTimeColors[2]},children:e.lightningTimeParts[2]}),s("span",{children:"|"})," ",s("span",{id:"charge",style:{color:e.lightningTimeColors[3]},children:e.lightningTimeParts[3]})]}),s("p",{className:"text-2xl font-bold",children:["(",e.normalTime,")"]})]})]})}const ot=({posts:e})=>{const t=He().lightningTimeColors;return s("div",{className:"pr-8 pl-11 w-full",children:[...e].reverse().map((n,r)=>s(Xe,{username:n.username,avatar:n.avatar,description:Ke(n.content,90),imageUrl:n.images.length?n.images[0]:void 0,color:Object.values(t)[r%t.length]},r))})},lt="/assets/doorbell-b4817b2b.mp3";function gt({data:e}){let t=()=>{e.state=="connected"&&e.data.send({type:"ringBell"})},n=e.state=="connected"&&e.data.error!==void 0||e.state=="error",r=e.state=="connecting"?"Wiring up…":e.state=="connected"?e.data.ringing?"Ringing…":"Ring the doorbell":"Bzzt! Error.";return s("div",{className:"text-center py-4",children:[s("button",{className:"bg-pink-500 aspect-square rounded-full [width:10ch] [border-bottom-width:12px] border-pink-600 active:border-b-4 p-6 font-bold text-4xl shadow-xl [text-shadow:-1px_-1px_#00000052] relative z-10","aria-pressed":e.state=="connected"&&e.data.ringing,onClick:t,disabled:e.state!="connected",children:r}),n?s("p",{className:"mt-6",children:s("a",{href:"mailto:mstanciu@purdue.edu",className:"text-white underline",children:[s("strong",{children:"Email Matthew"})," to let you in"]})}):s(N,{})]})}function it(){const e=Be(new Audio(lt));let t=te();return q(()=>{t.ringing&&e.current.paused&&e.current.play()},[t.ringing]),s("div",{className:"z-10 text-center fixed bottom-10 m-auto left-0 right-0",children:[t.ringing&&s("button",{disabled:!0,className:"bg-pink-500 text-white rounded-lg shadow-2xl text-4xl font-bold animate-bounce p-4 my-4",children:[s("div",{className:"animate-pulse absolute inset-0 w-full h-full bg-pink-500 opacity-30 pointer-events-none"}),"Someone’s at the door!"]}),s("p",{className:"text-white/50",children:"Connected"})]})}const st="/assets/spinner-bf73daa9.svg",_t="/assets/bg-cef5c8d5.jpg",at="/assets/close-1ed9972e.svg";function ct(){return{grid:[],nextRingable:new Date,recentMsgs:[],players:{},fish:"",error:"Not connected. What the hell!",send:e=>{},ringing:!1,on:(e,t)=>{},removeListener:(e,t)=>{}}}function dt(e){let t,n=!1,r=[],o={roundOver:new Set,bellRung:new Set};e(d=>({state:"connecting"}));let i=()=>{if(n)return;if(t!==void 0){for(let _ of r)clearTimeout(_);n=!0,t.close(),t=void 0,console.error("reconnecting in 1s..."),r.push(window.setTimeout(()=>{n=!1,i()},1e3));return}console.log("connecting...");let d=new URL("/sock",window.location.href);d.protocol="wss:",t=new WebSocket(d),t.addEventListener("error",_=>{console.error("socket error",_),e(a=>({state:"error",msg:"websocket error (see console?)"})),i()}),t.addEventListener("close",_=>{n||(console.error("unexpected socket closure"),e(a=>({state:"error",msg:"socket unexpectedly closed"})),i())}),t.addEventListener("message",_=>{console.log("socket message",_);try{if(_.data===null)throw"message received not a string";const a=JSON.parse(_.data);if(a===null)throw"bad message schema";let c=u=>{e(l=>{let h;return l.state!=="connected"?(i(),h={state:"error",msg:"out of order messages / not correctly connected"}):h={state:"connected",data:u(l.data)},console.log("new data",h),h})};switch(a.type){case"bellRung":c(l=>({...l,nextRingable:new Date(Date.now()+a.nextRingable),ringing:!0})),r.push(setTimeout(()=>{c(l=>({...l,ringing:!1}))},a.nextRingable));for(let l of o.bellRung)l();break;case"err":c(l=>({...l,error:a.msg}));break;case"init":console.log("connected."),e(l=>({state:"connected",data:{...a,players:Object.fromEntries(a.players.map(h=>[h.id,h])),nextRingable:new Date(Date.now()+a.nextRingable),error:void 0,send:h=>{t.send(JSON.stringify(h))},on:(h,f)=>{o[h].add(f)},removeListener:(h,f)=>{o[h].delete(f)},ringing:a.nextRingable>0}}));break;case"roundOver":c(l=>{let h={...l};for(let f of a.gridChanges)h.grid[f.y][f.x]=f.by;return h});for(let l of o.roundOver)l();break;case"gameOver":c(l=>({...l,players:Object.fromEntries(a.players.map(h=>[h.id,h])),grid:a.grid}));break;case"posted":const u={...a.post,time:new Date(a.post.time)};c(l=>({...l,recentMsgs:[...l.recentMsgs,u]}));break;case"join":c(l=>({...l,players:{...l.players,[a.player.id]:a.player}}));break;case"leave":c(l=>{let h={...l};return delete h.players[a.id],h});break}}catch(a){console.error("socket message handling error",a),e(c=>({state:"error",msg:a})),i()}})};return i(),()=>{console.log("closing socket...");for(let d of r)clearTimeout(d);n=!0,t!==void 0&&(t.close(),t=void 0)}}function ut(){const e=te(),t=s("table",{className:"border-collapse table-fixed bg-gradient-to-tr from-blue-400 via-red-500 to-green-400",children:s("tbody",{children:e.grid.map((d,_)=>s("tr",{className:"box-content h-2",children:d.map((a,c)=>{let u={};if(a==null)u.border="1px solid white",u.backgroundColor="transparent";else{let l=e.players[a]==null?"black":e.players[a].color;u.border="1px solid gray",u.backgroundColor=l}return s("td",{className:"box-content h-4 w-4",style:u},c)})},_))})}),n=Object.entries(e.players).sort((d,_)=>_[1].points-d[1].points),r=["border-orange-500","border-cyan-400","border-green-500"],o="slate-400",i=n.map((d,_)=>{const a=`border border-2 ${_<r.length?r[_]:o} p-3`;return s("div",{className:"inline-flex drop-shadow-xl mx-2 items-center rounded shadow-lg text-white",style:{backgroundColor:d[1].color},children:[s("div",{className:`${a} border-r-0 rounded-s`,children:s("span",{className:" mix-blend-difference",children:d[1].name})}),s("div",{className:`${a} rounded-e`,children:d[1].points.toPrecision(2)})]})});return s("div",{className:"flex flex-col",children:[s("div",{className:"flex flex-row justify-center",children:[s("div",{children:t}),s("div",{className:"bg-gray-300 self-stretch border-0 rounded w-0.5 mx-4"}),s("div",{className:"flex flex-wrap flex-col",children:i})]}),s("div",{className:"flex flex-wrap pr-5 flex-col items-left justify-center my-4",children:[s("h4",{className:"text-2xl",children:"How to play"}),s("p",{children:["Use this ",s("a",{href:"https://replit.com/@Thomas_QM/HackNightGameTemplate",className:"text-blue-400",children:"template"})," to start writing a script to play for you."]}),s("h4",{className:"text-2xl mt-3",children:"Rules"}),s("ul",{className:"text-xs",children:[s("li",{children:"Each round, select a single cell to paint."}),s("li",{children:"If multiple players select the same cell, who gets it is chosen randomly."}),s("li",{children:"If the cell is already painted, each player only has a half chance of overwriting it."}),s("li",{children:"Closed curves drawn by the same player are filled in random order."}),s("li",{className:"text-bold",children:"You win if you color all the cells."})]})]})]})}const Me=ke(ct());function ft({loading:e,err:t,children:n}){let[r,o]=ee({state:"connecting"});return q(()=>dt(o),[]),r.state=="connected"?s(Me.Provider,{value:r.data,children:n}):r.state=="connecting"?s(N,{children:e}):s(N,{children:t(r.msg)})}function te(){return Ce(Me)}function Ae({children:e,title:t}){const n="p-4 flex flex-row text-black items-center border border-black border-4";let[r,o]=ee(!0);return q(()=>{o(!0)},[e,t]),r?s("div",{className:"bg-slate-400/30 z-20 flex flex-col justify-center items-center fixed left-0 top-0 right-0 bottom-0 w-full max-h-full text-lg",children:s("div",{children:t?s(N,{children:[s("div",{className:`bg-amber-550 rounded-t-lg ${n} text-2xl font-bold`,children:[t,s("button",{onClick:()=>o(!1),className:"ml-3 w-5",children:s("img",{src:at})})]}),s("div",{className:`${n} bg-amber-450 border-t-0 rounded-b-lg px-4 py-3`,children:e})]}):s("div",{className:`bg-amber-450 text-xl rounded-lg ${n}`,disabled:!0,children:e})})}):s(N,{})}const ht=()=>s(Ae,{children:s("button",{className:"bg-amber-450 rounded-lg p-4 flex flex-row text-black items-center text-2xl",disabled:!0,children:[s("img",{className:"animate-spin h-7 mr-3",src:st})," Connecting..."]})}),Le=e=>s(Ae,{title:"Could not connect to server...",children:s("p",{children:e})}),pt=()=>{const e={title:"Not playing",artist:"Not playing",image:_t};let t=te();return s("div",{className:"h-screen",style:{backgroundImage:`url(${e.image})`,backgroundSize:"125vw",backgroundPosition:"100% 70%"},children:[t.error!==void 0?Le(t.error):s(N,{}),s(it,{}),s("div",{className:"h-screen bg-slate-800/50 backdrop-blur-md w-full flex flex-col",children:[s(rt,{}),s("div",{className:"flex flex-row gap-x-20 items-start justify-evenly w-full overflow-y-hidden mt-3",children:[s("div",{children:s(ut,{})}),s("div",{className:"max-w-md h-full overflow-y-auto",children:s(ot,{posts:t.recentMsgs.slice(-10)})})]})]})]})};function mt(){return s("div",{className:"flex font-main h-screen w-full flex-col bg-gray-900 text-white",children:s(nt,{children:s(ft,{err:Le,loading:s(ht,{}),children:s(pt,{})})})})}ze(s(mt,{}),document.getElementById("app"));export{je as $,gt as D,O as b,dt as c,N as g,ee as h,p as l,q as p,ze as q,s as u,Ue as y};
