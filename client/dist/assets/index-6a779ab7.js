(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var I,p,pe,C,re,me,Y,ge,E={},ve=[],Oe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,W=Array.isArray;function T(e,t){for(var n in t)e[n]=t[n];return e}function be(e){var t=e.parentNode;t&&t.removeChild(e)}function Re(e,t,n){var r,o,l,d={};for(l in t)l=="key"?r=t[l]:l=="ref"?o=t[l]:d[l]=t[l];if(arguments.length>2&&(d.children=arguments.length>3?I.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(l in e.defaultProps)d[l]===void 0&&(d[l]=e.defaultProps[l]);return A(e,d,r,o,null)}function A(e,t,n,r,o){var l={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++pe,__i:-1,__u:0};return o==null&&p.vnode!=null&&p.vnode(l),l}function k(e){return e.children}function O(e,t){this.props=e,this.context=t}function $(e,t){if(t==null)return e.__?$(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?$(e):null}function ye(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ye(e)}}function J(e){(!e.__d&&(e.__d=!0)&&C.push(e)&&!j.__r++||re!==p.debounceRendering)&&((re=p.debounceRendering)||me)(j)}function j(){var e,t,n,r,o,l,d,a,_;for(C.sort(Y);e=C.shift();)e.__d&&(t=C.length,r=void 0,l=(o=(n=e).__v).__e,a=[],_=[],(d=n.__P)&&((r=T({},o)).__v=o.__v+1,p.vnode&&p.vnode(r),X(d,r,o,n.__n,d.ownerSVGElement!==void 0,32&o.__u?[l]:null,a,l??$(o),!!(32&o.__u),_),r.__.__k[r.__i]=r,ke(a,r,_),r.__e!=l&&ye(r)),C.length>t&&C.sort(Y));j.__r=0}function xe(e,t,n,r,o,l,d,a,_,c,f){var i,h,u,m,v,y=r&&r.__k||ve,g=t.length;for(n.__d=_,Ue(n,t,y),_=n.__d,i=0;i<g;i++)(u=n.__k[i])!=null&&typeof u!="boolean"&&typeof u!="function"&&(h=u.__i===-1?E:y[u.__i]||E,u.__i=i,X(e,u,h,o,l,d,a,_,c,f),m=u.__e,u.ref&&h.ref!=u.ref&&(h.ref&&Z(h.ref,null,u),f.push(u.ref,u.__c||m,u)),v==null&&m!=null&&(v=m),65536&u.__u||h.__k===u.__k?_=we(u,_,e):typeof u.type=="function"&&u.__d!==void 0?_=u.__d:m&&(_=m.nextSibling),u.__d=void 0,u.__u&=-196609);n.__d=_,n.__e=v}function Ue(e,t,n){var r,o,l,d,a,_=t.length,c=n.length,f=c,i=0;for(e.__k=[],r=0;r<_;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?A(null,o,null,null,o):W(o)?A(k,{children:o},null,null,null):o.__b>0?A(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=Fe(o,n,d=r+i,f),o.__i=a,l=null,a!==-1&&(f--,(l=n[a])&&(l.__u|=131072)),l==null||l.__v===null?(a==-1&&i--,typeof o.type!="function"&&(o.__u|=65536)):a!==d&&(a===d+1?i++:a>d?f>_-d?i+=a-d:i--:i=a<d&&a==d-1?a-d:0,a!==r+i&&(o.__u|=65536))):(l=n[r])&&l.key==null&&l.__e&&(l.__e==e.__d&&(e.__d=$(l)),K(l,l,!1),n[r]=null,f--);if(f)for(r=0;r<c;r++)(l=n[r])!=null&&!(131072&l.__u)&&(l.__e==e.__d&&(e.__d=$(l)),K(l,l))}function we(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=we(r[o],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function je(e,t){return t=t||[],e==null||typeof e=="boolean"||(W(e)?e.some(function(n){je(n,t)}):t.push(e)),t}function Fe(e,t,n,r){var o=e.key,l=e.type,d=n-1,a=n+1,_=t[n];if(_===null||_&&o==_.key&&l===_.type)return n;if(r>(_!=null&&!(131072&_.__u)?1:0))for(;d>=0||a<t.length;){if(d>=0){if((_=t[d])&&!(131072&_.__u)&&o==_.key&&l===_.type)return d;d--}if(a<t.length){if((_=t[a])&&!(131072&_.__u)&&o==_.key&&l===_.type)return a;a++}}return-1}function oe(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Oe.test(t)?n:n+"px"}function L(e,t,n,r,o){var l;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||oe(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||oe(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")l=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+l]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,l?ie:le,l)):e.removeEventListener(t,l?ie:le,l);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function le(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(p.event?p.event(e):e)}function ie(e){return this.l[e.type+!0](p.event?p.event(e):e)}function X(e,t,n,r,o,l,d,a,_,c){var f,i,h,u,m,v,y,g,x,N,D,P,ne,H,B,w=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(_=!!(32&n.__u),l=[a=t.__e=n.__e]),(f=p.__b)&&f(t);e:if(typeof w=="function")try{if(g=t.props,x=(f=w.contextType)&&r[f.__c],N=f?x?x.props.value:f.__:r,n.__c?y=(i=t.__c=n.__c).__=i.__E:("prototype"in w&&w.prototype.render?t.__c=i=new w(g,N):(t.__c=i=new O(g,N),i.constructor=w,i.render=We),x&&x.sub(i),i.props=g,i.state||(i.state={}),i.context=N,i.__n=r,h=i.__d=!0,i.__h=[],i._sb=[]),i.__s==null&&(i.__s=i.state),w.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=T({},i.__s)),T(i.__s,w.getDerivedStateFromProps(g,i.__s))),u=i.props,m=i.state,i.__v=t,h)w.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(w.getDerivedStateFromProps==null&&g!==u&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(g,N),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(g,i.__s,N)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(i.props=g,i.state=i.__s,i.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(M){M&&(M.__=t)}),D=0;D<i._sb.length;D++)i.__h.push(i._sb[D]);i._sb=[],i.__h.length&&d.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(g,i.__s,N),i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(u,m,v)})}if(i.context=N,i.props=g,i.__P=e,i.__e=!1,P=p.__r,ne=0,"prototype"in w&&w.prototype.render){for(i.state=i.__s,i.__d=!1,P&&P(t),f=i.render(i.props,i.state,i.context),H=0;H<i._sb.length;H++)i.__h.push(i._sb[H]);i._sb=[]}else do i.__d=!1,P&&P(t),f=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++ne<25);i.state=i.__s,i.getChildContext!=null&&(r=T(T({},r),i.getChildContext())),h||i.getSnapshotBeforeUpdate==null||(v=i.getSnapshotBeforeUpdate(u,m)),xe(e,W(B=f!=null&&f.type===k&&f.key==null?f.props.children:f)?B:[B],t,n,r,o,l,d,a,_,c),i.base=t.__e,t.__u&=-161,i.__h.length&&d.push(i),y&&(i.__E=i.__=null)}catch(M){t.__v=null,_||l!=null?(t.__e=a,t.__u|=_?160:32,l[l.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),p.__e(M,t,n)}else l==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Ie(n.__e,t,n,r,o,l,d,_,c);(f=p.diffed)&&f(t)}function ke(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)Z(n[r],n[++r],n[++r]);p.__c&&p.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(l){l.call(o)})}catch(l){p.__e(l,o.__v)}})}function Ie(e,t,n,r,o,l,d,a,_){var c,f,i,h,u,m,v,y=n.props,g=t.props,x=t.type;if(x==="svg"&&(o=!0),l!=null){for(c=0;c<l.length;c++)if((u=l[c])&&"setAttribute"in u==!!x&&(x?u.localName===x:u.nodeType===3)){e=u,l[c]=null;break}}if(e==null){if(x===null)return document.createTextNode(g);e=o?document.createElementNS("http://www.w3.org/2000/svg",x):document.createElement(x,g.is&&g),l=null,a=!1}if(x===null)y===g||a&&e.data===g||(e.data=g);else{if(l=l&&I.call(e.childNodes),y=n.props||E,!a&&l!=null)for(y={},c=0;c<e.attributes.length;c++)y[(u=e.attributes[c]).name]=u.value;for(c in y)u=y[c],c=="children"||(c=="dangerouslySetInnerHTML"?i=u:c==="key"||c in g||L(e,c,null,u,o));for(c in g)u=g[c],c=="children"?h=u:c=="dangerouslySetInnerHTML"?f=u:c=="value"?m=u:c=="checked"?v=u:c==="key"||a&&typeof u!="function"||y[c]===u||L(e,c,u,y[c],o);if(f)a||i&&(f.__html===i.__html||f.__html===e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(i&&(e.innerHTML=""),xe(e,W(h)?h:[h],t,n,r,o&&x!=="foreignObject",l,d,l?l[0]:n.__k&&$(n,0),a,_),l!=null)for(c=l.length;c--;)l[c]!=null&&be(l[c]);a||(c="value",m!==void 0&&(m!==e[c]||x==="progress"&&!m||x==="option"&&m!==y[c])&&L(e,c,m,y[c],!1),c="checked",v!==void 0&&v!==e[c]&&L(e,c,v,y[c],!1))}return e}function Z(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){p.__e(r,n)}}function K(e,t,n){var r,o;if(p.unmount&&p.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Z(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){p.__e(l,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&K(r[o],t,n||typeof e.type!="function");n||e.__e==null||be(e.__e),e.__=e.__e=e.__d=void 0}function We(e,t,n){return this.constructor(e,n)}function ze(e,t,n){var r,o,l,d;p.__&&p.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,l=[],d=[],X(t,e=(!r&&n||t).__k=Re(k,null,[e]),o||E,E,t.ownerSVGElement!==void 0,!r&&n?[n]:o?null:t.firstChild?I.call(t.childNodes):null,l,!r&&n?n:o?o.__e:t.firstChild,r,d),ke(l,e,d)}function Ne(e,t){var n={__c:t="__cC"+ge++,__:e,Consumer:function(r,o){return r.children(o)},Provider:function(r){var o,l;return this.getChildContext||(o=[],(l={})[t]=this,this.getChildContext=function(){return l},this.shouldComponentUpdate=function(d){this.props.value!==d.value&&o.some(function(a){a.__e=!0,J(a)})},this.sub=function(d){o.push(d);var a=d.componentWillUnmount;d.componentWillUnmount=function(){o.splice(o.indexOf(d),1),a&&a.call(d)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}I=ve.slice,p={__e:function(e,t,n,r){for(var o,l,d;t=t.__;)if((o=t.__c)&&!o.__)try{if((l=o.constructor)&&l.getDerivedStateFromError!=null&&(o.setState(l.getDerivedStateFromError(e)),d=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),d=o.__d),d)return o.__E=o}catch(a){e=a}throw e}},pe=0,O.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=T({},this.state),typeof e=="function"&&(e=e(T({},n),this.props)),e&&T(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),J(this))},O.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),J(this))},O.prototype.render=k,C=[],me=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Y=function(e,t){return e.__v.__b-t.__v.__b},j.__r=0,ge=0;var S,b,V,se,F=0,Te=[],R=[],ae=p.__b,_e=p.__r,ce=p.diffed,de=p.__c,ue=p.unmount;function z(e,t){p.__h&&p.__h(b,e,F||t),F=0;var n=b.__H||(b.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:R}),n.__[e]}function ee(e){return F=1,qe(Se,e)}function qe(e,t,n){var r=z(S++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Se(void 0,t),function(a){var _=r.__N?r.__N[0]:r.__[0],c=r.t(_,a);_!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=b,!b.u)){var o=function(a,_,c){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(h){return h.__c});if(f.every(function(h){return!h.__N}))return!l||l.call(this,a,_,c);var i=!1;return f.forEach(function(h){if(h.__N){var u=h.__[0];h.__=h.__N,h.__N=void 0,u!==h.__[0]&&(i=!0)}}),!(!i&&r.__c.props===a)&&(!l||l.call(this,a,_,c))};b.u=!0;var l=b.shouldComponentUpdate,d=b.componentWillUpdate;b.componentWillUpdate=function(a,_,c){if(this.__e){var f=l;l=void 0,o(a,_,c),l=f}d&&d.call(this,a,_,c)},b.shouldComponentUpdate=o}return r.__N||r.__}function q(e,t){var n=z(S++,3);!p.__s&&$e(n.__H,t)&&(n.__=e,n.i=t,b.__H.__h.push(n))}function Be(e){return F=5,Ve(function(){return{current:e}},[])}function Ve(e,t){var n=z(S++,7);return $e(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Ce(e){var t=b.context[e.__c],n=z(S++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(b)),t.props.value):e.__}function Ge(){for(var e;e=Te.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(U),e.__H.__h.forEach(Q),e.__H.__h=[]}catch(t){e.__H.__h=[],p.__e(t,e.__v)}}p.__b=function(e){b=null,ae&&ae(e)},p.__r=function(e){_e&&_e(e),S=0;var t=(b=e.__c).__H;t&&(V===b?(t.__h=[],b.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=R,n.__N=n.i=void 0})):(t.__h.forEach(U),t.__h.forEach(Q),t.__h=[],S=0)),V=b},p.diffed=function(e){ce&&ce(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Te.push(t)!==1&&se===p.requestAnimationFrame||((se=p.requestAnimationFrame)||Ye)(Ge)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==R&&(n.__=n.__V),n.i=void 0,n.__V=R})),V=b=null},p.__c=function(e,t){t.some(function(n){try{n.__h.forEach(U),n.__h=n.__h.filter(function(r){return!r.__||Q(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],p.__e(r,n.__v)}}),de&&de(e,t)},p.unmount=function(e){ue&&ue(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{U(r)}catch(o){t=o}}),n.__H=void 0,t&&p.__e(t,n.__v))};var fe=typeof requestAnimationFrame=="function";function Ye(e){var t,n=function(){clearTimeout(r),fe&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);fe&&(t=requestAnimationFrame(n))}function U(e){var t=b,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),b=t}function Q(e){var t=b;e.__c=e.__(),b=t}function $e(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Se(e,t){return typeof t=="function"?t(e):t}function Pe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ee={exports:{}};(function(e){(function(t,n){var r="…",o=/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)|((mailto:)?[_.\w-]{1,300}@(.{1,300}\.)[a-zA-Z]{2,3})/g;function l(a,_,c){return c.length===a.length||!_.ellipsis||(c+=_.ellipsis),c}function d(a,_,c){var f="",i=!0,h=_,u,m;if(c=c||{},c.ellipsis=typeof c.ellipsis>"u"?r:c.ellipsis,!a||a.length===0)return"";for(i=!0;i;){if(o.lastIndex=f.length,i=o.exec(a),!i||i.index-f.length>=h||o.lastIndex>=_+3e3)return f+=a.substring(f.length,_),l(a,c,f);if(u=i[0],m=i.index,f+=a.substring(f.length,m+u.length),h-=m+u.length,h<=0)break}return l(a,c,f)}e.exports?e.exports=d:t.truncate=d})(String)})(Ee);var Je=Ee.exports;const Ke=Pe(Je);var Qe=0;function s(e,t,n,r,o,l){var d,a,_={};for(a in t)a=="ref"?d=t[a]:_[a]=t[a];var c={type:e,props:_,key:n,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Qe,__i:-1,__u:0,__source:o,__self:l};if(typeof e=="function"&&(d=e.defaultProps))for(a in d)_[a]===void 0&&(_[a]=d[a]);return p.vnode&&p.vnode(c),c}const Xe=({username:e,avatar:t,description:n,imageUrl:r,color:o})=>s("div",{className:"rounded-2xl w-full p-4 text-white mb-4",style:{border:`8px solid ${o}`},children:[s("div",{className:"flex flex-row items-center gap-x-2",children:[s("img",{className:"w-10 rounded-full",src:t}),s("h1",{className:"font-bold",children:e})]}),s("p",{className:"mt-4",children:n}),r!==null?s("img",{src:r,className:"mt-2 max-h-50 rounded"}):s(k,{})]});function he({n:e}){let t=["🌝","🌚","🌛"],n=[];for(let r=0;r<e;r++)n.push(s("span",{className:"text-4xl mx-4",children:[" ",t[r%t.length]," "]}));return s("div",{className:"relative flex overflow-x-hidden",children:[s("div",{className:"py-4 animate-marquee whitespace-nowrap",children:n}),s("div",{className:"absolute top-0 py-4 animate-marquee2 whitespace-nowrap",children:n})]})}const Ze="/assets/ph-logo-cropped-6a0a6b46.png";var G=Math.round,et=function(e,r,o){var r=r/100,o=o/100,l=o*r,d=e/60,a=l*(1-Math.abs(d%2-1)),_=o-l,c=parseInt(d,10),f=c===0?[l,a,0]:c===1?[a,l,0]:c===2?[0,l,a]:c===3?[0,a,l]:c===4?[a,0,l]:c===5?[l,0,a]:[];return[G(255*(f[0]+_)),G(255*(f[1]+_)),G(255*(f[2]+_))]};const tt=Pe(et),De=Ne({normalTime:"",lightningTimeParts:[],lightningTimeColors:[]});function nt({children:e}){const n=1318.359375;let[r,o]=ee({normalTime:"",lightningTimeParts:new Array(4),lightningTimeColors:new Array(4)});return q(()=>{let l,d=new Date().getTimezoneOffset();const a=()=>{let _=(Date.now()-d*60*1e3)%864e5,c=Math.floor(_/n),f=new Array(4),i=new Array(3);for(let v=3;v>=0;v--)f[v]=c%16,v<3&&(i[v]=16*f[v]+f[v+1]),c=(c-f[v])/16;let h=Math.floor(_/(3600*1e3)),u=Math.floor(_%(1e3*3600)/(60*1e3)).toString();for(;u.length<2;)u=`0${u}`;let m=(v,y,g)=>`rgb(${v}, ${y}, ${g})`;o({lightningTimeParts:f.map(v=>v.toString(16)),lightningTimeColors:[m(i[0],161,0),m(i[1],50,214),m(246,133,i[2]),m.apply(null,tt(f[3]*60/16,100,100))],normalTime:`${h%12==0?12:h%12}:${u} ${h>=12?"pm":"am"}`}),l=setTimeout(a,n-_%n)};return a(),()=>clearTimeout(l)},[]),s(De.Provider,{value:r,children:e})}function He(){return Ce(De)}function rt(){let e=He();return s("div",{className:"flex flex-row items-center justify-evenly w-full grid-cols-4 drop-shadow-xl",children:[s("div",{className:"flex flex-col items-center justify-center my-4",children:[s(he,{n:6}),s("h1",{className:"text-4xl font-bold",children:[s("img",{alt:"purdue hackers logo",src:Ze,placeholder:"blur",className:"inline-block h-[3.5rem] w-auto"}),"HACK NIGHT"]}),s("div",{className:"flex flex-row gap-x-2",children:[s("h1",{className:"text-3xl font-bold text-gray-300",children:"3.11"}),s("div",{className:"flex flex-row items-center gap-1",children:s("div",{className:"px-1 text-black rounded bg-gradient-to-r from-green-400 to-red-400",children:s("p",{className:"text-sm font-bold",children:"now with more holiday spirit!"})})})]}),s(he,{n:6})]}),s("div",{className:"flex flex-col col-span-2 items-center font-mono",children:[s("h1",{className:"text-[7vw] font-bold underline underline-offset-[12px] text-amber-300 decoration-white decoration-dotted decoration-8 flex space-x-4",children:[s("span",{id:"bolt",style:{color:e.lightningTimeColors[0]},children:e.lightningTimeParts[0]}),s("span",{children:"~"})," ",s("span",{id:"zap",style:{color:e.lightningTimeColors[1]},children:e.lightningTimeParts[1]}),s("span",{children:"~"})," ",s("span",{id:"spark",style:{color:e.lightningTimeColors[2]},children:e.lightningTimeParts[2]}),s("span",{children:"|"})," ",s("span",{id:"charge",style:{color:e.lightningTimeColors[3]},children:e.lightningTimeParts[3]})]}),s("p",{className:"text-2xl font-bold",children:["(",e.normalTime,")"]})]})]})}const ot=({posts:e})=>{const t=He().lightningTimeColors;return s("div",{className:"pr-8 pl-11 w-full",children:[...e].reverse().map((n,r)=>s(Xe,{username:n.username,avatar:n.avatar,description:Ke(n.content,90),imageUrl:n.images.length?n.images[0]:void 0,color:Object.values(t)[r%t.length]},r))})},lt="/assets/doorbell-b4817b2b.mp3";function gt({data:e}){let t=()=>{e.state=="connected"&&e.data.send({type:"ringBell"})},n=e.state=="connected"&&e.data.error!==void 0||e.state=="error",r=e.state=="connected"&&(e.data.ringable||e.data.ringing),o=e.state=="connecting"?"Wiring up…":e.state=="connected"?e.data.ringing?"Ringing…":e.data.ringable?"Ring the doorbell":"Wait a few secs...":"Bzzt! Error.";return s("div",{className:"text-center py-4",children:[s("button",{className:"bg-pink-500 aspect-square rounded-full [width:10ch] [border-bottom-width:12px] border-pink-600 active:border-b-4 p-6 font-bold text-4xl shadow-xl [text-shadow:-1px_-1px_#00000052] relative z-10","aria-pressed":e.state=="connected"&&e.data.ringing,onClick:t,disabled:!r,children:o}),n?s("p",{className:"mt-6",children:s("a",{href:"mailto:mstanciu@purdue.edu",className:"text-white underline",children:[s("strong",{children:"Email Matthew"})," to let you in"]})}):s(k,{})]})}function it(){const e=Be(void 0);let t=te();return q(()=>{e.current!==void 0&&e.current.paused&&t.ringing&&e.current.play()},[t.ringing]),s("div",{className:"z-10 text-center fixed bottom-10 m-auto left-0 right-0",children:[s("audio",{src:lt,ref:e}),t.ringing&&s("button",{disabled:!0,className:"bg-pink-500 text-white rounded-lg shadow-2xl text-4xl font-bold animate-bounce p-4 my-4",children:[s("div",{className:"animate-pulse absolute inset-0 w-full h-full bg-pink-500 opacity-30 pointer-events-none"}),"Someone’s at the door!"]}),s("p",{className:"text-white/50",children:"Connected"})]})}const st="/assets/spinner-bf73daa9.svg",at="/assets/bg-cef5c8d5.jpg",_t="/assets/close-1ed9972e.svg";function ct(){return{grid:[],nextRingable:new Date,recentMsgs:[],players:{},fish:"",error:"Not connected. What the hell!",send:e=>{},ringing:!1,ringable:!1,on:(e,t)=>{},removeListener:(e,t)=>{}}}function dt(e){let t,n=!1,r=[],o={roundOver:new Set,bellRung:new Set};e(d=>({state:"connecting"}));let l=()=>{if(n)return;if(t!==void 0){for(let a of r)clearTimeout(a);n=!0,t.close(),t=void 0,console.error("reconnecting in 1s..."),r.push(window.setTimeout(()=>{n=!1,l()},1e3));return}console.log("connecting...");let d=new URL("/sock",window.location.href);d.protocol="wss:",t=new WebSocket(d),t.addEventListener("error",a=>{console.error("socket error",a),e(_=>({state:"error",msg:"websocket error (see console?)"})),l()}),t.addEventListener("close",a=>{n||(console.error("unexpected socket closure"),e(_=>({state:"error",msg:"socket unexpectedly closed"})),l())}),t.addEventListener("message",a=>{console.log("socket message",a);try{if(a.data===null)throw"message received not a string";const _=JSON.parse(a.data);if(_===null)throw"bad message schema";let c=i=>{e(h=>{let u;return h.state!=="connected"?(l(),u={state:"error",msg:"out of order messages / not correctly connected"}):u={state:"connected",data:i(h.data)},console.log("new data",u),u})},f=i=>r.push(setTimeout(()=>{c(h=>({...h,ringable:!0}))},i));switch(_.type){case"stopRinging":c(h=>({...h,ringing:!1}));break;case"bellRung":c(h=>({...h,nextRingable:new Date(Date.now()+_.nextRingable),ringable:!1,ringing:!0})),f(_.nextRingable);for(let h of o.bellRung)h();break;case"err":c(h=>({...h,error:_.msg}));break;case"init":console.log("connected."),e(h=>({state:"connected",data:{..._,players:Object.fromEntries(_.players.map(u=>[u.id,u])),nextRingable:new Date(Date.now()+_.nextRingable),error:void 0,send:u=>{t.send(JSON.stringify(u))},on:(u,m)=>{o[u].add(m)},removeListener:(u,m)=>{o[u].delete(m)},ringable:_.nextRingable==0}})),f(_.nextRingable);break;case"roundOver":c(h=>{let u={...h};for(let m of _.gridChanges)u.grid[m.y][m.x]=m.by;return u});for(let h of o.roundOver)h();break;case"gameOver":c(h=>({...h,players:Object.fromEntries(_.players.map(u=>[u.id,u])),grid:_.grid}));break;case"posted":const i={..._.post,time:new Date(_.post.time)};c(h=>({...h,recentMsgs:[...h.recentMsgs,i]}));break;case"join":c(h=>({...h,players:{...h.players,[_.player.id]:_.player}}));break;case"leave":c(h=>{let u={...h};return delete u.players[_.id],u});break}}catch(_){console.error("socket message handling error",_),e(c=>({state:"error",msg:_})),l()}})};return l(),()=>{console.log("closing socket...");for(let d of r)clearTimeout(d);n=!0,t!==void 0&&(t.close(),t=void 0)}}function ut(){const e=te(),t=s("table",{className:"border-collapse table-fixed bg-gradient-to-tr from-blue-400 via-red-500 to-green-400",children:s("tbody",{children:e.grid.map((d,a)=>s("tr",{className:"box-content h-2",children:d.map((_,c)=>{let f={};if(_==null)f.border="1px solid white",f.backgroundColor="transparent";else{let i=e.players[_]==null?"black":e.players[_].color;f.border="1px solid gray",f.backgroundColor=i}return s("td",{className:"box-content h-4 w-4",style:f},c)})},a))})}),n=Object.entries(e.players).sort((d,a)=>a[1].points-d[1].points),r=["border-orange-500","border-cyan-400","border-green-500"],o="slate-400",l=n.map((d,a)=>{const _=`border border-2 ${a<r.length?r[a]:o} p-3`;return s("div",{className:"inline-flex drop-shadow-xl mx-2 items-center rounded shadow-lg text-white",style:{backgroundColor:d[1].color},children:[s("div",{className:`${_} border-r-0 rounded-s`,children:s("span",{className:" mix-blend-difference",children:d[1].name})}),s("div",{className:`${_} rounded-e`,children:d[1].points.toPrecision(2)})]})});return s("div",{className:"flex flex-col",children:[s("div",{className:"flex flex-row justify-center",children:[s("div",{children:t}),n.length>0?s("div",{className:"bg-gray-300 self-stretch border-0 rounded w-0.5 mx-4"}):s(k,{}),s("div",{className:"flex flex-wrap flex-col",children:l})]}),s("div",{className:"flex flex-wrap pr-5 flex-col items-left justify-center my-4",children:[s("h4",{className:"text-2xl",children:"How to play"}),s("p",{children:["Use this ",s("a",{href:"https://replit.com/@Thomas_QM/HackNightGameTemplate",className:"text-blue-400",children:"template"})," to start writing a script to play for you."]}),s("h4",{className:"text-2xl mt-3",children:"Rules"}),s("ul",{className:"text-xs",children:[s("li",{children:"Each round, select a single cell to paint."}),s("li",{children:"If multiple players select the same cell, who gets it is chosen randomly."}),s("li",{children:"If the cell is already painted, each player only has a half chance of overwriting it."}),s("li",{children:"Closed curves drawn by the same player are filled in random order."}),s("li",{className:"text-bold",children:"You win if you color all the cells."})]})]})]})}const Me=Ne(ct());function ft({loading:e,err:t,children:n}){let[r,o]=ee({state:"connecting"});return q(()=>dt(o),[]),r.state=="connected"?s(Me.Provider,{value:r.data,children:n}):r.state=="connecting"?s(k,{children:e}):s(k,{children:t(r.msg)})}function te(){return Ce(Me)}function Le({children:e,title:t}){const n="p-4 flex flex-row text-black items-center border border-black border-4";let[r,o]=ee(!0);return q(()=>{o(!0)},[e,t]),r?s("div",{className:"bg-slate-400/30 z-20 flex flex-col justify-center items-center fixed left-0 top-0 right-0 bottom-0 w-full max-h-full text-lg",children:s("div",{children:t?s(k,{children:[s("div",{className:`bg-amber-550 rounded-t-lg ${n} text-2xl font-bold`,children:[t,s("button",{onClick:()=>o(!1),className:"ml-3 w-5",children:s("img",{src:_t})})]}),s("div",{className:`${n} bg-amber-450 border-t-0 rounded-b-lg px-4 py-3`,children:e})]}):s("div",{className:`bg-amber-450 text-xl rounded-lg ${n}`,disabled:!0,children:e})})}):s(k,{})}const ht=()=>s(Le,{children:s("button",{className:"bg-amber-450 rounded-lg p-4 flex flex-row text-black items-center text-2xl",disabled:!0,children:[s("img",{className:"animate-spin h-7 mr-3",src:st})," Connecting..."]})}),Ae=e=>s(Le,{title:"Could not connect to server...",children:s("p",{children:e})}),pt=()=>{const e={title:"Not playing",artist:"Not playing",image:at};let t=te();return s("div",{className:"h-screen",style:{backgroundImage:`url(${e.image})`,backgroundSize:"125vw",backgroundPosition:"100% 70%"},children:[t.error!==void 0?Ae(t.error):s(k,{}),s(it,{}),s("div",{className:"h-screen bg-slate-800/50 backdrop-blur-md w-full flex flex-col",children:[s(rt,{}),s("div",{className:"flex flex-row gap-x-20 items-start justify-evenly w-full overflow-y-hidden mt-3",children:[s("div",{children:s(ut,{})}),s("div",{className:"max-w-md h-full overflow-y-auto",children:s(ot,{posts:t.recentMsgs.slice(-10)})})]})]})]})};function mt(){return s("div",{className:"flex font-main h-screen w-full flex-col bg-gray-900 text-white",children:s(nt,{children:s(ft,{err:Ae,loading:s(ht,{}),children:s(pt,{})})})})}ze(s(mt,{}),document.getElementById("app"));export{je as $,gt as D,O as b,dt as c,k as g,ee as h,p as l,q as p,ze as q,s as u,Re as y};
